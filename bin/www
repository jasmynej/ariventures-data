#!/usr/bin/env node

const app = require("../app");
const http = require("http");

const port = process.env.PORT || 4000;
app.set("port", port);

const server = http.createServer(app);

// âœ… Export server for Vercel
module.exports = server;

// âœ… Only run `server.listen()` when running locally
if (require.main === module) {
  server.listen(port, () => {
    console.log(`ðŸš€ Server running on port ${port}`);
  });
}